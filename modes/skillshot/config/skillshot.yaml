#config_version=6

mode:
  start_events: start_mode_skillshot
  stop_events:
    - skill_success
    - skill_failed
    - stop_mode_skillshot
  priority: 500

shots:
  skill_l:
    switch: s_dragon_lane_left 
    profile: skillshots_profile
    advance_events: mode_skillshot_started        # replace "skill_shot" with your mode name
  skill_r:
    switch: s_dragon_lane_right
    profile: skillshots_profile

shot_groups:
  skillshots:
    shots: skill_l, skill_r
    rotate_left_events: s_flipper_left_active
    rotate_right_events: s_flipper_right_active

shot_profiles:
  skillshots_profile:
    states:
      - name: unlit
      - name: flashing
      - name: lit
    loop: true

variable_player:
  skill_success:
    score: 10_000

timers:
  skillshots_timeout:
    start_value: 0
    end_value: 10     # set the timeout of your skill shot here
    direction: up
    tick_interval: 1s
    start_running: false
    control_events:
      - action: start
        event: balldevice_bd_plunger_ball_eject_success  # replace "plunger_lane" with the name of your plunger device

state_machines:
  skillshots_success:
    debug: true
    states:
      start:
        label: Skill shot ready
      success:
        label: Skill successful
        events_when_started: skill_success
      failed:
        label: Skill failed
        events_when_started: skill_failed
    transitions:
      - source: start
        target: success
        events: skillshots_flashing_hit
      - source: start
        target: failed
        events: skillshots_unlit_hit, timer_skillshots_timeout_complete

